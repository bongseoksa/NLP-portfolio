# 06. ì„ë² ë”© íŒŒì´í”„ë¼ì¸ êµ¬ì¶•

> **ë¬¸ì„œ ë²„ì „**: v1.0
> **ì‘ì„±ì¼**: 2026-01-05
> **ì´ì „ ë¬¸ì„œ**: [03_ë°ì´í„°ë² ì´ìŠ¤_ì„¤ì •.md](./03_ë°ì´í„°ë² ì´ìŠ¤_ì„¤ì •.md)
> **ì˜ˆìƒ ì‹œê°„**: 15-30ë¶„ (ë ˆí¬ì§€í† ë¦¬ í¬ê¸°ì— ë”°ë¼)

---

## ğŸ“‹ ëª©ì°¨

1. [íŒŒì´í”„ë¼ì¸ ê°œìš”](#1-íŒŒì´í”„ë¼ì¸-ê°œìš”)
2. [GitHub Token ì„¤ì •](#2-github-token-ì„¤ì •)
3. [OpenAI API í‚¤ ì„¤ì •](#3-openai-api-í‚¤-ì„¤ì •)
4. [target-repos.json ì„¤ì •](#4-target-reposjson-ì„¤ì •)
5. [ë²¡í„°í™” ì „ì²˜ë¦¬ ê¸°ì¤€](#5-ë²¡í„°í™”-ì „ì²˜ë¦¬-ê¸°ì¤€)
6. [ë¡œì»¬ íŒŒì´í”„ë¼ì¸ ì‹¤í–‰](#6-ë¡œì»¬-íŒŒì´í”„ë¼ì¸-ì‹¤í–‰)
7. [ê²°ê³¼ ê²€ì¦](#7-ê²°ê³¼-ê²€ì¦)
8. [GitHub Actions CI ì„¤ì •](#8-github-actions-ci-ì„¤ì •)

---

## 1. íŒŒì´í”„ë¼ì¸ ê°œìš”

### 1.1 í†µí•© ì„ë² ë”© íŒŒì´í”„ë¼ì¸ì´ë€?

**Unified Embedding Pipeline**ì€ GitHub ë ˆí¬ì§€í† ë¦¬ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ê³ , ì„ë² ë”©ì„ ìƒì„±í•˜ì—¬, ì •ì  ë²¡í„° íŒŒì¼ë¡œ exportí•˜ëŠ” **20ë‹¨ê³„ ìë™í™” íŒŒì´í”„ë¼ì¸**ì…ë‹ˆë‹¤.

### 1.2 íŒŒì´í”„ë¼ì¸ ì‹¤í–‰ ëª¨ë“œ

```bash
# ì¼ë°˜ ëª¨ë“œ (ì¦ë¶„ ì—…ë°ì´íŠ¸)
pnpm run embed

# ë¦¬ì…‹ ëª¨ë“œ (ì „ì²´ ì¬ìƒì„±)
pnpm run embed:reset
```

### 1.3 íŒŒì´í”„ë¼ì¸ 20ë‹¨ê³„

```
[Phase 1: Setup & Validation]
Step 1:  Configuration loading (target-repos.json)
Step 2:  Environment validation (API keys, paths)
Step 3:  Load commit state (ì¦ë¶„ ì—…ë°ì´íŠ¸ ì¤€ë¹„)

[Phase 2: Data Collection]
Step 4:  Fetch commits (GitHub API)
Step 5:  Fetch commit diffs
Step 6:  Fetch repository files
Step 7:  Fetch Q&A history (Supabase)

[Phase 3: Embedding Generation]
Step 8:  Initialize embedding model (Hugging Face)
Step 9:  Generate commit embeddings
Step 10: Generate file embeddings
Step 11: Generate Q&A embeddings

[Phase 4: Vector Storage]
Step 12: Save to Supabase pgvector

[Phase 5: Data Cleanup]
Step 13: Age-based cleanup (6+ months)
Step 14: Deleted files cleanup
Step 15: Capacity limit enforcement (10MB)

[Phase 6: Export]
Step 16: Fetch all embeddings from Supabase
Step 17: Generate embeddings.json
Step 18: Compress to embeddings.json.gz

[Phase 7: Finalization]
Step 19: Update commit-state.json
Step 20: Save statistics and summary
```

---

## 2. GitHub Token ì„¤ì •

### 2.1 Personal Access Token (PAT) ìƒì„±

1. GitHub ë¡œê·¸ì¸
2. **Settings** â†’ **Developer settings** â†’ **Personal access tokens** â†’ **Tokens (classic)**
3. **Generate new token** (classic) í´ë¦­
4. ì„¤ì •:
   ```
   Note: NLP-Portfolio Local Development
   Expiration: 90 days (ë˜ëŠ” No expiration)
   Scopes:
     âœ… repo (Full control of private repositories)
   ```
5. **Generate token** í´ë¦­
6. í† í° ë³µì‚¬ (âš ï¸ í•œ ë²ˆë§Œ í‘œì‹œë¨!)

### 2.2 .env íŒŒì¼ì— ì¶”ê°€

```bash
# GitHub
GITHUB_TOKEN=ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

âœ… **ì™„ë£Œ ì¡°ê±´**: `.env`ì— `GITHUB_TOKEN` ì„¤ì • ì™„ë£Œ

---

## 3. OpenAI API í‚¤ ì„¤ì •

### 3.1 OpenAI API í‚¤ ë°œê¸‰

ì„ë² ë”© íŒŒì´í”„ë¼ì¸ì€ Hugging Faceë¥¼ ì‚¬ìš©í•˜ì§€ë§Œ, **ì¿¼ë¦¬ ì„ë² ë”© ìƒì„±**ì„ ìœ„í•´ OpenAI API í‚¤ê°€ í•„ìš”í•©ë‹ˆë‹¤.

1. [OpenAI Platform](https://platform.openai.com) ë¡œê·¸ì¸
2. **API keys** ë©”ë‰´ í´ë¦­
3. **Create new secret key** í´ë¦­
4. ì´ë¦„ ì…ë ¥: `NLP-Portfolio`
5. API í‚¤ ë³µì‚¬

### 3.2 .env íŒŒì¼ì— ì¶”ê°€

```bash
# OpenAI (ì¿¼ë¦¬ ì„ë² ë”©ìš©)
OPENAI_API_KEY=sk-proj-xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

âœ… **ì™„ë£Œ ì¡°ê±´**: `.env`ì— `OPENAI_API_KEY` ì„¤ì • ì™„ë£Œ

---

## 4. target-repos.json ì„¤ì •

### 4.1 ì„¤ì • íŒŒì¼ ìƒì„±

í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— `target-repos.json` íŒŒì¼ ìƒì„±:

```json
{
  "repositories": [
    {
      "owner": "YOUR_GITHUB_USERNAME",
      "repo": "portfolio",
      "enabled": true
    },
    {
      "owner": "YOUR_GITHUB_USERNAME",
      "repo": "NLP-portfolio",
      "enabled": true
    }
  ]
}
```

**ì„¤ëª…**:
- `owner`: GitHub ì‚¬ìš©ìëª… ë˜ëŠ” ì¡°ì§ëª…
- `repo`: ë ˆí¬ì§€í† ë¦¬ ì´ë¦„
- `enabled`: `true`ë¡œ ì„¤ì •í•˜ë©´ ì„ë² ë”© ìƒì„± ëŒ€ìƒì— í¬í•¨

### 4.2 ë³¸ì¸ ë ˆí¬ì§€í† ë¦¬ë¡œ ë³€ê²½

```json
{
  "repositories": [
    {
      "owner": "bongseok-sa",  â† ë³¸ì¸ GitHub ì‚¬ìš©ìëª…ìœ¼ë¡œ ë³€ê²½
      "repo": "my-project",    â† ë¶„ì„í•  ë ˆí¬ì§€í† ë¦¬ ì´ë¦„ìœ¼ë¡œ ë³€ê²½
      "enabled": true
    }
  ]
}
```

âœ… **ì™„ë£Œ ì¡°ê±´**: `target-repos.json` íŒŒì¼ ìƒì„± ë° ì„¤ì • ì™„ë£Œ

---

## 5. ë²¡í„°í™” ì „ì²˜ë¦¬ ê¸°ì¤€

### 5.1 íŒŒì¼ Chunking ì „ëµ

ë ˆí¬ì§€í† ë¦¬ ì†ŒìŠ¤ ì½”ë“œ íŒŒì¼ì€ ë²¡í„°í™” ì „ì— **ì˜ë¯¸ ë‹¨ìœ„ë¡œ ë¶„í• (chunking)**ë©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ë” ì •í™•í•œ ê²€ìƒ‰ê³¼ ì»¨í…ìŠ¤íŠ¸ ìœ ì§€ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.

### 5.2 Chunking ê·œì¹™

#### 5.2.1 Chunk í¬ê¸°
- **ì‚¬ì´ì¦ˆ ìë™ ì¡°ì •**: íŒŒì¼ ë‚´ìš©ê³¼ êµ¬ì¡°ì— ë”°ë¼ ìµœì  í¬ê¸° ìë™ ê²°ì •
- ì„ë² ë”© ëª¨ë¸ì˜ ìµœëŒ€ í† í° ì œí•œì„ ê³ ë ¤í•˜ì—¬ ë™ì ìœ¼ë¡œ ì¡°ì •

#### 5.2.2 ì˜¤ë²„ë©(Overlap)
- **ê¸°ë³¸ ì˜¤ë²„ë©: 8%**
- ì¸ì ‘í•œ chunk ê°„ 8%ì˜ ë‚´ìš©ì´ ê²¹ì¹˜ë„ë¡ ì„¤ì •
- ì»¨í…ìŠ¤íŠ¸ ì—°ì†ì„± ìœ ì§€ ë° ê²½ê³„ ì •ë³´ ì†ì‹¤ ë°©ì§€

#### 5.2.3 ì˜ë¯¸ ë‹¨ìœ„ ë¶„í• 
- **í´ë˜ìŠ¤ ë° ë©”ì†Œë“œ ê¸°ì¤€ ë¶„í• **: ì½”ë“œì˜ ë…¼ë¦¬ì  êµ¬ì¡°ë¥¼ ì¡´ì¤‘
  - í´ë˜ìŠ¤ ì •ì˜ ë‹¨ìœ„ë¡œ ë¶„í• 
  - ë©”ì†Œë“œ/í•¨ìˆ˜ ë‹¨ìœ„ë¡œ ë¶„í• 
  - ë‹¨, ê¸¸ì´ê°€ ê¸´ ê²½ìš° ì¶”ê°€ ë¶„ë¦¬
- **ë¶„í•  ìš°ì„ ìˆœìœ„**:
  1. í´ë˜ìŠ¤/ì¸í„°í˜ì´ìŠ¤ ê²½ê³„
  2. ë©”ì†Œë“œ/í•¨ìˆ˜ ê²½ê³„
  3. ì£¼ì„ ë¸”ë¡ ê²½ê³„
  4. ê¸´ ë©”ì†Œë“œ/í•¨ìˆ˜ëŠ” ë‚´ë¶€ì—ì„œ ì¶”ê°€ ë¶„í• 

#### 5.2.4 ê¸´ ì½”ë“œ ì²˜ë¦¬
- **ê¸´ ë©”ì†Œë“œ/í•¨ìˆ˜**: ë‹¨ì¼ ë©”ì†Œë“œê°€ chunk í¬ê¸° ì œí•œì„ ì´ˆê³¼í•˜ëŠ” ê²½ìš°
  - ë‚´ë¶€ ë¡œì§ ë¸”ë¡(if/for/while ë“±) ê¸°ì¤€ìœ¼ë¡œ ì¶”ê°€ ë¶„í• 
  - ìµœì†Œ ë‹¨ìœ„ëŠ” ìœ ì§€í•˜ì—¬ ì˜ë¯¸ ë³´ì¡´

### 5.3 ì „ì²˜ë¦¬ ì˜ˆì‹œ

```typescript
// ì˜ˆì‹œ: TypeScript íŒŒì¼
class UserService {
  // Chunk 1: í´ë˜ìŠ¤ í—¤ë” + ì²« ë²ˆì§¸ ë©”ì†Œë“œ
  async getUser(id: string): Promise<User> {
    // ... (8% ì˜¤ë²„ë© í¬í•¨)
  }
  
  // Chunk 2: ë‘ ë²ˆì§¸ ë©”ì†Œë“œ (8% ì˜¤ë²„ë©ìœ¼ë¡œ ì‹œì‘)
  async updateUser(id: string, data: UserData): Promise<User> {
    // ... ê¸´ ë©”ì†Œë“œì¸ ê²½ìš° ë‚´ë¶€ì—ì„œ ì¶”ê°€ ë¶„í• 
  }
}
```

### 5.4 ë©”íƒ€ë°ì´í„°

ê° chunkëŠ” ë‹¤ìŒ ë©”íƒ€ë°ì´í„°ë¥¼ í¬í•¨í•©ë‹ˆë‹¤:
- `path`: íŒŒì¼ ê²½ë¡œ
- `chunkIndex`: chunk ì¸ë±ìŠ¤ (0ë¶€í„° ì‹œì‘)
- `totalChunks`: ì „ì²´ chunk ê°œìˆ˜
- `fileType`: íŒŒì¼ íƒ€ì… (src, config, docs ë“±)
- `extension`: íŒŒì¼ í™•ì¥ì
- `size`: ì›ë³¸ íŒŒì¼ í¬ê¸°

âœ… **ì™„ë£Œ ì¡°ê±´**: ì „ì²˜ë¦¬ ê¸°ì¤€ ì´í•´ ì™„ë£Œ

---

## 6. ë¡œì»¬ íŒŒì´í”„ë¼ì¸ ì‹¤í–‰

### 6.1 í™˜ê²½ ë³€ìˆ˜ ìµœì¢… í™•ì¸

`.env` íŒŒì¼ì— ë‹¤ìŒ ê°’ë“¤ì´ ëª¨ë‘ ì„¤ì •ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤:

```bash
# GitHub
GITHUB_TOKEN=ghp_xxxxx

# OpenAI (ì¿¼ë¦¬ ì„ë² ë”©ìš©)
OPENAI_API_KEY=sk-proj-xxxxx

# Supabase
SUPABASE_URL=https://xxxxx.supabase.co
SUPABASE_SERVICE_ROLE_KEY=eyJhbGci...
SUPABASE_ANON_KEY=eyJhbGci...
```

### 6.2 ì²« ì‹¤í–‰ (ë¦¬ì…‹ ëª¨ë“œ)

ì²˜ìŒ ì‹¤í–‰í•˜ëŠ” ê²½ìš° **ë¦¬ì…‹ ëª¨ë“œ**ë¡œ ì‹¤í–‰í•˜ì„¸ìš”:

```bash
pnpm run embed:reset
```

**ì˜ˆìƒ ì¶œë ¥**:
```
ğŸš€ Starting Unified Embedding Pipeline (RESET MODE)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

[Phase 1: Setup & Validation]
âœ… Step 1: Configuration loaded
   - Repositories: 2
   - Reset mode: enabled

âœ… Step 2: Environment validated
   - GITHUB_TOKEN: âœ“
   - OPENAI_API_KEY: âœ“
   - SUPABASE_URL: âœ“

âœ… Step 3: Commit state loaded (reset mode)

[Phase 2: Data Collection]
âœ… Step 4: Fetching commits from 2 repositories...
   - bongseok-sa/portfolio: 150 commits
   - bongseok-sa/NLP-portfolio: 72 commits
   Total: 222 commits

âœ… Step 5: Fetching commit diffs...
   Progress: 222/222 [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100%

âœ… Step 6: Fetching repository files...
   - bongseok-sa/portfolio: 45 files
   - bongseok-sa/NLP-portfolio: 103 files
   Total: 148 files

âœ… Step 7: Fetching Q&A history from Supabase...
   - Q&A items: 0 (first run)

[Phase 3: Embedding Generation]
âœ… Step 8: Initializing Hugging Face model...
   - Model: sentence-transformers/all-MiniLM-L6-v2
   - Dimensions: 384

âœ… Step 9: Generating commit embeddings...
   Progress: 222/222 [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100%

âœ… Step 10: Generating file embeddings...
   Progress: 148/148 [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100%

âœ… Step 11: Generating Q&A embeddings...
   Skipped (no Q&A history)

[Phase 4: Vector Storage]
âœ… Step 12: Saving to Supabase pgvector...
   - Batch size: 100
   - Total vectors: 370
   Progress: 370/370 [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100%

[Phase 5: Data Cleanup]
âœ… Step 13: Age-based cleanup (6+ months)
   - Removed: 0 vectors

âœ… Step 14: Deleted files cleanup
   - Checked: 2 repositories
   - Removed: 0 vectors

âœ… Step 15: Capacity limit enforcement (10MB)
   - Current size: 2.3 MB
   - Within limit: âœ“

[Phase 6: Export]
âœ… Step 16: Fetching all embeddings from Supabase...
   - Total vectors: 370

âœ… Step 17: Generating embeddings.json...
   - File size: 2.1 MB

âœ… Step 18: Compressing to embeddings.json.gz...
   - Compressed size: 450 KB
   - Compression ratio: 78.6%

[Phase 7: Finalization]
âœ… Step 19: Updating commit-state.json...
   - Last commit: abc123...
   - Last updated: 2026-01-05T10:30:00Z

âœ… Step 20: Pipeline completed successfully!

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“Š Final Statistics:
   - Repositories: 2
   - Commits: 222
   - Files: 148
   - Q&A: 0
   - Total vectors: 370
   - Output file: output/embeddings.json.gz (450 KB)
   - Execution time: 8m 32s
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

### 6.3 ì¦ë¶„ ì—…ë°ì´íŠ¸ ì‹¤í–‰

ì´í›„ ì‹¤í–‰ë¶€í„°ëŠ” **ì¼ë°˜ ëª¨ë“œ**ë¡œ ì‹¤í–‰í•˜ì„¸ìš” (ì‹ ê·œ ì»¤ë°‹ë§Œ ì²˜ë¦¬):

```bash
pnpm run embed
```

**ì˜ˆìƒ ì¶œë ¥** (ì‹ ê·œ ì»¤ë°‹ ì—†ëŠ” ê²½ìš°):
```
ğŸš€ Starting Unified Embedding Pipeline
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… Step 4: Fetching commits from 2 repositories...
   - bongseok-sa/portfolio: 0 new commits
   - bongseok-sa/NLP-portfolio: 0 new commits
   Total: 0 new commits

â„¹ï¸  No new commits found. Skipping embedding generation.

âœ… Pipeline completed (no changes)
```

---

## 7. ê²°ê³¼ ê²€ì¦

### 7.1 ì¶œë ¥ íŒŒì¼ í™•ì¸

```bash
# ë²¡í„° íŒŒì¼ ì¡´ì¬ í™•ì¸
ls -lh output/embeddings.json.gz

# ì˜ˆìƒ ì¶œë ¥:
# -rw-r--r-- 1 user staff 450K Jan 5 10:30 output/embeddings.json.gz
```

### 7.2 ë²¡í„° íŒŒì¼ ë‚´ìš© í™•ì¸

```bash
# ì••ì¶• í•´ì œ ë° í†µê³„ í™•ì¸
zcat output/embeddings.json.gz | jq '.statistics'
```

**ì˜ˆìƒ ì¶œë ¥**:
```json
{
  "totalEmbeddings": 370,
  "commitCount": 222,
  "fileCount": 148,
  "qaCount": 0
}
```

### 7.3 Supabase ë°ì´í„° í™•ì¸

1. Supabase Dashboard â†’ **Table Editor**
2. `embeddings` í…Œì´ë¸” ì„ íƒ
3. ë°ì´í„° ì¡´ì¬ í™•ì¸:
   - ì´ í–‰ ìˆ˜: 370
   - `type` ê°’: `commit`, `file` í™•ì¸
   - `embedding` ì»¬ëŸ¼ì— 384ì°¨ì› ë²¡í„° í™•ì¸

âœ… **ì™„ë£Œ ì¡°ê±´**:
- `output/embeddings.json.gz` íŒŒì¼ ìƒì„±
- Supabase `embeddings` í…Œì´ë¸”ì— ë°ì´í„° ì €ì¥
- í†µê³„ ì •ë³´ ì •ìƒ ì¶œë ¥

---

## 8. GitHub Actions CI ì„¤ì •

### 8.1 ì›Œí¬í”Œë¡œìš° íŒŒì¼ ìƒì„±

**íŒŒì¼**: `.github/workflows/unified-embedding-pipeline.yml`

```yaml
name: Unified Embedding Pipeline

on:
  schedule:
    # ë§¤ì£¼ í† ìš”ì¼ 18:00 UTC ì‹¤í–‰ (í•œêµ­ ì‹œê°„ ì¼ìš”ì¼ 03:00)
    - cron: '0 18 * * 6'
  workflow_dispatch:  # ìˆ˜ë™ ì‹¤í–‰ ê°€ëŠ¥
    inputs:
      reset:
        description: 'Reset mode (ì „ì²´ ì¬ìƒì„±)'
        required: false
        default: 'false'

jobs:
  embed:
    runs-on: ubuntu-latest
    timeout-minutes: 60

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20'

      - name: Install pnpm
        uses: pnpm/action-setup@v2
        with:
          version: 10

      - name: Install dependencies
        run: pnpm install

      - name: Run embedding pipeline
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}  # ìë™ ì œê³µ
          OPENAI_API_KEY: ${{ secrets.OPENAI_API_KEY }}
          SUPABASE_URL: ${{ secrets.SUPABASE_URL }}
          SUPABASE_SERVICE_ROLE_KEY: ${{ secrets.SUPABASE_SERVICE_ROLE_KEY }}
          SUPABASE_ANON_KEY: ${{ secrets.SUPABASE_ANON_KEY }}
        run: |
          if [ "${{ github.event.inputs.reset }}" == "true" ]; then
            pnpm run embed:reset
          else
            pnpm run embed
          fi

      - name: Commit and push embeddings
        run: |
          git config user.name "github-actions[bot]"
          git config user.email "github-actions[bot]@users.noreply.github.com"
          git add output/embeddings.json.gz commit-state.json
          git commit -m "chore: update embeddings [skip ci]" || echo "No changes"
          git push
```

### 8.2 GitHub Secrets ì„¤ì •

1. GitHub ë ˆí¬ì§€í† ë¦¬ â†’ **Settings** â†’ **Secrets and variables** â†’ **Actions**
2. **New repository secret** í´ë¦­í•˜ì—¬ ë‹¤ìŒ ì¶”ê°€:

```
OPENAI_API_KEY = sk-proj-xxxxx
SUPABASE_URL = https://xxxxx.supabase.co
SUPABASE_SERVICE_ROLE_KEY = eyJhbGci...
SUPABASE_ANON_KEY = eyJhbGci...
```

âš ï¸ **ì£¼ì˜**: `GITHUB_TOKEN`ì€ ìë™ ì œê³µë˜ë¯€ë¡œ ì¶”ê°€í•˜ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤.

### 8.3 ìˆ˜ë™ ì‹¤í–‰ í…ŒìŠ¤íŠ¸

1. GitHub ë ˆí¬ì§€í† ë¦¬ â†’ **Actions** íƒ­
2. **Unified Embedding Pipeline** ì›Œí¬í”Œë¡œìš° ì„ íƒ
3. **Run workflow** í´ë¦­
4. ì‹¤í–‰ ê²°ê³¼ í™•ì¸

âœ… **ì™„ë£Œ ì¡°ê±´**: GitHub Actions ì›Œí¬í”Œë¡œìš° ì„±ê³µ

---

## 9. íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### ë¬¸ì œ: "GitHub API rate limit exceeded"
**ì›ì¸**: GitHub API í˜¸ì¶œ ì œí•œ ì´ˆê³¼
**í•´ê²°**:
- ì¸ì¦ëœ ìš”ì²­ì€ 5,000íšŒ/ì‹œê°„ ì œí•œ
- `GITHUB_TOKEN` ì„¤ì • í™•ì¸
- ë ˆí¬ì§€í† ë¦¬ ê°œìˆ˜ ì¤„ì´ê¸°

### ë¬¸ì œ: "Hugging Face model loading failed"
**ì›ì¸**: ëª¨ë¸ ë‹¤ìš´ë¡œë“œ ì‹¤íŒ¨ ë˜ëŠ” ë©”ëª¨ë¦¬ ë¶€ì¡±
**í•´ê²°**:
```bash
# ëª¨ë¸ ìºì‹œ ì‚­ì œ
rm -rf ~/.cache/huggingface

# ì¬ì‹¤í–‰
pnpm run embed:reset
```

### ë¬¸ì œ: "Supabase connection timeout"
**ì›ì¸**: ë„¤íŠ¸ì›Œí¬ ë¬¸ì œ ë˜ëŠ” ì˜ëª»ëœ URL
**í•´ê²°**:
1. `.env`ì—ì„œ `SUPABASE_URL` í™•ì¸
2. Supabase Dashboardì—ì„œ í”„ë¡œì íŠ¸ ìƒíƒœ í™•ì¸
3. ë°©í™”ë²½ ì„¤ì • í™•ì¸

### ë¬¸ì œ: "embeddings.json.gz íŒŒì¼ ë„ˆë¬´ í¼ (>100MB)"
**ì›ì¸**: Git íŒŒì¼ í¬ê¸° ì œí•œ
**í•´ê²°**:
- ë°ì´í„° ì •ë¦¬ ì£¼ê¸° ì¡°ì • (3ê°œì›”ë¡œ ë‹¨ì¶•)
- íŒŒì¼ ì„ë² ë”© í•„í„°ë§ ê°•í™”
- Git LFS ì‚¬ìš© ê³ ë ¤

---

## 11. ê´€ë ¨ ë¬¸ì„œ

- [ì„ë² ë”© íŒŒì´í”„ë¼ì¸ í…ŒìŠ¤íŠ¸ ê²°ê³¼](../05_api/TEST-EMBEDDING-PIPELINE-CLEANUP.md)

---

**ë¬¸ì„œ ì‘ì„± ì™„ë£Œ**: 2026-01-05
**ì˜ˆìƒ ì†Œìš” ì‹œê°„**: 15-30ë¶„
**ì´ì „ ë¬¸ì„œ**: [03_ë°ì´í„°ë² ì´ìŠ¤_ì„¤ì •.md](./03_ë°ì´í„°ë² ì´ìŠ¤_ì„¤ì •.md)
