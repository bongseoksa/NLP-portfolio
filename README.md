# GitHub Analyzer

GitHub repositoriesë¥¼ ë¶„ì„í•˜ì—¬ ì½”ë“œì™€ ì»¤ë°‹ ížˆìŠ¤í† ë¦¬ ì •ë³´ë¥¼ ì¶”ì¶œí•˜ëŠ” ë„êµ¬ìž…ë‹ˆë‹¤. íŠ¹ì • ë ˆí¬ì§€í† ë¦¬ì˜ ì»¤ë°‹ ê¸°ë¡, ë³€ê²½ëœ íŒŒì¼ ì •ë³´, ê·¸ë¦¬ê³  diff ë‚´ìš©ì„ ìˆ˜ì§‘í•˜ì—¬ ë¶„ì„ ë¦¬í¬íŠ¸ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•œ ë°ì´í„°ë¥¼ ì „ì²˜ë¦¬í•©ë‹ˆë‹¤.

## Installation

```bash
pnpm install
```

## Usage

```bash
# íŒŒì´í”„ë¼ì¸ ì‹¤í–‰ (ë°ì´í„° ìˆ˜ì§‘ + ìž„ë² ë”© + ë²¡í„° ì €ìž¥)
pnpm run dev

# ì»¬ë ‰ì…˜ ë¦¬ì…‹ í›„ íŒŒì´í”„ë¼ì¸ ì‹¤í–‰ (ìž„ë² ë”© ì°¨ì› ë³€ê²½ ì‹œ)
pnpm run dev --reset

# ê¸°ì¡´ ë°ì´í„°ë¡œ ìž¬ìž„ë² ë”© (ë°ì´í„° ìˆ˜ì§‘ ê±´ë„ˆë›°ê¸°)
pnpm run reindex

# ì§ˆì˜ì‘ë‹µ (QA) ëª¨ë“œ ì‹¤í–‰
pnpm run ask "ì´ í”„ë¡œì íŠ¸ì˜ ìµœê·¼ ë³€ê²½ì‚¬í•­ì€ ë¬´ì—‡ì¸ê°€ìš”?"

# ë„ì›€ë§ ë³´ê¸°
pnpm run dev help
```

### ìž„ë² ë”© ìž¬ìƒì„±ì´ í•„ìš”í•œ ê²½ìš°

OpenAIì—ì„œ Chroma ê¸°ë³¸ ìž„ë² ë”©ìœ¼ë¡œ ì „í™˜í•˜ê±°ë‚˜, ê·¸ ë°˜ëŒ€ì˜ ê²½ìš° ìž„ë² ë”© ì°¨ì›ì´ ë‹¤ë¥´ë¯€ë¡œ ê¸°ì¡´ ë°ì´í„°ë¥¼ ìž¬ìž„ë² ë”©í•´ì•¼ í•©ë‹ˆë‹¤:

```bash
# ê¶Œìž¥: ê¸°ì¡´ ë°ì´í„°ë¡œ ë¹ ë¥¸ ìž¬ìž„ë² ë”©
pnpm run reindex
```

## í”„ë¡œì íŠ¸ êµ¬ì¡° (Project Structure)

í˜„ìž¬ í”„ë¡œì íŠ¸ì˜ ì£¼ìš” ë””ë ‰í† ë¦¬ ë° íŒŒì¼ êµ¬ì„±ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

- **`src/`**: ì†ŒìŠ¤ ì½”ë“œ ë””ë ‰í† ë¦¬
  - **`index.ts`**: ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ ì§„ìž…ì (Entry Point)ìž…ë‹ˆë‹¤.
  - **`config/`**: í™˜ê²½ ë³€ìˆ˜ ë¡œë“œ ë“± ì„¤ì • ê´€ë¦¬
  - **`data_sources/`**: ë°ì´í„° ìˆ˜ì§‘ ê³„ì¸µ
    - **`github/`**: GitHub API ì—°ë™ (`fetchCommit.ts`, `fetchFiles.ts`)
    - **`git/`**: ë¡œì»¬ Git ë° Diff ë¶„ì„ (`parseLog.ts`, `extractDiff.ts`)
  - **`models/`**: TypeScript íƒ€ìž… ì •ì˜ ë° ë°ì´í„° ëª¨ë¸ (`Commit.ts`, `File.ts` ë“±)
  - **`pipeline/`**: ì „ì²´ ë°ì´í„° ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸ ì›Œí¬í”Œë¡œìš°
    - `runPipeline.ts`: íŒŒì´í”„ë¼ì¸ ì‹¤í–‰ ë¡œì§
    - **`steps/`**: íŒŒì´í”„ë¼ì¸ì˜ ê°œë³„ ì²˜ë¦¬ ë‹¨ê³„ (ì˜ˆ: `preprocessText.ts`)
  - **`utils/`**: ê³µí†µ ìœ í‹¸ë¦¬í‹°
- **`data/`**: ë°ì´í„° ì €ìž¥ì†Œ
  - **`raw/`**: ìˆ˜ì§‘ëœ ì›ë³¸ ë°ì´í„°
  - **`processed/`**: ì •ì œëœ ë°ì´í„°
  - **`vectors/`**: ìž„ë² ë”© ë²¡í„° ë°ì´í„° (ì˜ˆì •)
- **`output/`**: (Legacy) ì´ì „ ì¶œë ¥ ê²½ë¡œ, `data/`ë¡œ í†µí•© ì˜ˆì •

## AI API ì„¤ì • (AI API Setup)

ì´ í”„ë¡œì íŠ¸ëŠ” **OpenAI**ì™€ **Claude(Anthropic)** APIë¥¼ ì§€ì›í•˜ë©°, ìžë™ fallback ê¸°ëŠ¥ì´ ìžˆìŠµë‹ˆë‹¤.

### Fallback ë™ìž‘ ë°©ì‹

| ê¸°ëŠ¥ | 1ìˆœìœ„ | 2ìˆœìœ„ (Fallback) |
|------|-------|------------------|
| **ìž„ë² ë”© ìƒì„±** | OpenAI (`text-embedding-3-small`) | Chroma ê¸°ë³¸ ìž„ë² ë”© (ë¡œì»¬) |
| **ë‹µë³€ ìƒì„±** | OpenAI (`gpt-4o`) | Claude (`claude-sonnet-4-20250514`) |

- OpenAI APIê°€ ì‹¤íŒ¨í•˜ë©´ ìžë™ìœ¼ë¡œ fallbackìœ¼ë¡œ ì „í™˜ë©ë‹ˆë‹¤.
- API í‚¤ê°€ ì—†ì–´ë„ Chroma ê¸°ë³¸ ìž„ë² ë”©ìœ¼ë¡œ ìž„ë² ë”© ìƒì„±ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

### OpenAI ì„¤ì • (ì„ íƒ)

1. [OpenAI Platform](https://platform.openai.com/)ì— ì ‘ì†í•˜ì—¬ ê°€ìž… ë˜ëŠ” ë¡œê·¸ì¸í•©ë‹ˆë‹¤.
2. [API Keys íŽ˜ì´ì§€](https://platform.openai.com/api-keys)ë¡œ ì´ë™í•©ë‹ˆë‹¤.
3. **"Create new secret key"** ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ìƒˆë¡œìš´ í‚¤ë¥¼ ë°œê¸‰ë°›ìŠµë‹ˆë‹¤.
4. ë°œê¸‰ëœ í‚¤ë¥¼ `.env` íŒŒì¼ì— ì¶”ê°€í•©ë‹ˆë‹¤.

### Claude (Anthropic) ì„¤ì • (ì„ íƒ)

1. [Anthropic Console](https://console.anthropic.com/)ì— ì ‘ì†í•˜ì—¬ ê°€ìž… ë˜ëŠ” ë¡œê·¸ì¸í•©ë‹ˆë‹¤.
2. [API Keys íŽ˜ì´ì§€](https://console.anthropic.com/settings/keys)ë¡œ ì´ë™í•©ë‹ˆë‹¤.
3. **"Create Key"** ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ìƒˆë¡œìš´ í‚¤ë¥¼ ë°œê¸‰ë°›ìŠµë‹ˆë‹¤.
4. ë°œê¸‰ëœ í‚¤ë¥¼ `.env` íŒŒì¼ì— ì¶”ê°€í•©ë‹ˆë‹¤.

### `.env` íŒŒì¼ ì˜ˆì‹œ

```env
# OpenAI API (ì„ íƒ - ì—†ìœ¼ë©´ Chroma ê¸°ë³¸ ìž„ë² ë”© ì‚¬ìš©)
OPENAI_API_KEY=sk-proj-xxxxxxxxxxxxxxxxxxxxxxxx

# Anthropic API (ì„ íƒ - OpenAI ì‹¤íŒ¨ ì‹œ fallbackìœ¼ë¡œ ì‚¬ìš©)
CLAUDE_API_KEY=sk-ant-xxxxxxxxxxxxxxxxxxxxxxxx
```

> [!TIP]
> ë‘ API í‚¤ ì¤‘ í•˜ë‚˜ë§Œ ìžˆì–´ë„ ë™ìž‘í•©ë‹ˆë‹¤. OpenAI ì—†ì´ Anthropicë§Œ ì„¤ì •í•´ë„ ë©ë‹ˆë‹¤.

> [!WARNING]
> API í‚¤ëŠ” ì™¸ë¶€ì— ë…¸ì¶œë˜ì§€ ì•Šë„ë¡ ì£¼ì˜í•˜ì„¸ìš”. GitHub ë“± ê³µê°œ ì €ìž¥ì†Œì— `.env` íŒŒì¼ì´ ì—…ë¡œë“œë˜ì§€ ì•Šë„ë¡ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤.

## ChromaDB ì„¤ì • ë° ì‹¤í–‰ (ChromaDB Setup & Run)

ì´ í”„ë¡œì íŠ¸ëŠ” ë²¡í„° ì €ìž¥ì„ ìœ„í•´ [ChromaDB](https://www.trychroma.com/)ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ë¡œì»¬ì—ì„œ Chroma ì„œë²„ë¥¼ ì‹¤í–‰í•´ì•¼ `start` ë° `ask` ëª…ë ¹ì–´ê°€ ì •ìƒ ë™ìž‘í•©ë‹ˆë‹¤.

### ì‹¤í–‰ ë°©ë²• (Recommended)

í”„ë¡œì íŠ¸ì— í¬í•¨ëœ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°„íŽ¸í•˜ê²Œ ì„¤ì • ë° ì‹¤í–‰í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

1. **ì„¤ì • (ìµœì´ˆ 1íšŒ)**
   ì‹œìŠ¤í…œì—ì„œ í˜¸í™˜ë˜ëŠ” Python(3.9 ~ 3.12) ë²„ì „ì„ ìžë™ìœ¼ë¡œ ì°¾ì•„ ê°€ìƒí™˜ê²½ì„ êµ¬ì„±í•˜ê³  ChromaDBë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.
   ```bash
   pnpm run chroma:setup
   ```

2. **ì„œë²„ ì‹¤í–‰**
   ```bash
   pnpm run chroma:start
   ```
   ì„œë²„ëŠ” `http://localhost:8000`ì—ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤. í„°ë¯¸ë„ì„ ì—´ì–´ë‘ê³  ì‹¤í–‰ ìƒíƒœë¥¼ ìœ ì§€í•˜ì„¸ìš”.

### (ì°¸ê³ ) Docker ì‹¤í–‰

Dockerë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ë‹¤ìŒê³¼ ê°™ì´ ì‹¤í–‰í•  ìˆ˜ë„ ìžˆìŠµë‹ˆë‹¤.
```bash
docker run -p 8000:8000 chromadb/chroma
```
*Note: ë¡œì»¬ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ì´ ë™ìž‘í•˜ì§€ ì•ŠëŠ” ê²½ìš°ì—ë§Œ ì‚¬ìš©í•˜ì„¸ìš”.*

## ì „ì²˜ë¦¬ ê³¼ì • í”„ë¡œì„¸ìŠ¤ (Preprocessing Process)

ë³¸ í”„ë¡œì íŠ¸ëŠ” GitHub APIì™€ ë¡œì»¬ Git ëª…ë ¹ì–´ë¥¼ í™œìš©í•˜ì—¬ ë‹¤ìŒê³¼ ê°™ì€ 6ë‹¨ê³„ì˜ ë°ì´í„° ì „ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸ì„ ê±°ì¹©ë‹ˆë‹¤:

1. **ì´ˆê¸°í™” ë° í™˜ê²½ ì„¤ì • (Initialization)**
   - `.env` íŒŒì¼ì—ì„œ `TARGET_REPO_OWNER`, `TARGET_REPO_NAME`, `LOCAL_REPO_PATH` ë“± í•„ìˆ˜ í™˜ê²½ ë³€ìˆ˜ê°€ ì„¤ì •ë˜ì–´ ìžˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.

2. **GitHub ì»¤ë°‹ ëª©ë¡ ìˆ˜ì§‘ (Fetch Commits)**
   - `src/github/fetchCommit.ts`ë¥¼ í†µí•´ GitHub APIë¡œ íƒ€ê²Ÿ ë ˆí¬ì§€í† ë¦¬ì˜ ëª¨ë“  ì»¤ë°‹ ì •ë³´ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.
   - íŽ˜ì´ì§€ë„¤ì´ì…˜(Pagination)ì„ ì§€ì›í•˜ì—¬ ëˆ„ë½ ì—†ì´ ì „ì²´ ížˆìŠ¤í† ë¦¬ë¥¼ ìˆ˜ì§‘í•©ë‹ˆë‹¤.
   - ê° ì»¤ë°‹ì˜ SHA, ìž‘ì„±ìž, ë‚ ì§œ, ë©”ì‹œì§€ ë“±ì„ ì¶”ì¶œí•©ë‹ˆë‹¤.

3. **ë³€ê²½ íŒŒì¼ ì •ë³´ ì¡°íšŒ (Fetch Changed Files)**
   - ìˆ˜ì§‘ëœ ê° ì»¤ë°‹ì— ëŒ€í•´ `src/github/fetchFiles.ts`ë¥¼ ì‹¤í–‰í•˜ì—¬ ë³€ê²½ëœ íŒŒì¼ ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.
   - íŒŒì¼ëª…, ë³€ê²½ ìƒíƒœ(added, modified, removed ë“±), ì¶”ê°€/ì‚­ì œëœ ë¼ì¸ ìˆ˜(additions, deletions) ì •ë³´ë¥¼ ìˆ˜ì§‘í•©ë‹ˆë‹¤.

4. **ë¡œì»¬ Diff ì¶”ì¶œ (Extract Local Diffs)**
   - `src/git/parseLog.ts`ì™€ `src/git/extractDiff.ts`ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¡œì»¬ì— í´ë¡ ëœ ì €ìž¥ì†Œì—ì„œ ì§ì ‘ Git ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.
   - `git show {sha} --numstat --patch` ëª…ë ¹ì–´ë¥¼ í†µí•´ ìƒì„¸í•œ ì½”ë“œ ë³€ê²½ ë‚´ì—­(Full Diff)ì„ ì¶”ì¶œí•©ë‹ˆë‹¤.
   - ì´ëŠ” GitHub APIì˜ ì œí•œì„ ë³´ì™„í•˜ê³  ë” ìƒì„¸í•œ ë¡œì»¬ ë¶„ì„ ë°ì´í„°ë¥¼ í™•ë³´í•˜ê¸° ìœ„í•¨ìž…ë‹ˆë‹¤.

5. **ë°ì´í„° ì§‘ê³„ ë° ì €ìž¥ (Aggregation & Output)**
   - ìœ„ ë‹¨ê³„ì—ì„œ ìˆ˜ì§‘í•œ ëª¨ë“  ë°ì´í„°(Commits, Changed Files, Local Diffs)ë¥¼ í•˜ë‚˜ë¡œ ë³‘í•©í•©ë‹ˆë‹¤.
   - ì¤‘ê°„ ê²°ê³¼ë¬¼ì€ `output/pipeline_output.json` íŒŒì¼ë¡œ ì €ìž¥ë©ë‹ˆë‹¤.

6. **ë°ì´í„° ì •ì œ (Data Refinement)**
   - NLP ëª¨ë¸ í•™ìŠµ ë° ìž„ë² ë”© ìƒì„±ì„ ìœ„í•´ ìˆ˜ì§‘ëœ Raw ë°ì´í„°ë¥¼ ì •ì œí•©ë‹ˆë‹¤.
   - ì»¤ë°‹ ë©”ì‹œì§€, ë³€ê²½ íŒŒì¼, Diff ë‚´ìš©ì„ í•˜ë‚˜ì˜ ë¬¸ë§¥(Context)ìœ¼ë¡œ ê²°í•©í•˜ê³ , LLMì´ ì²˜ë¦¬í•˜ê¸° ì ì ˆí•œ í…ìŠ¤íŠ¸ ì²­í¬(Chunk) í˜•íƒœë¡œ ë³€í™˜í•©ë‹ˆë‹¤.
   - ìµœì¢… ì •ì œëœ ë°ì´í„°ëŠ” `output/refined_data.json`ìœ¼ë¡œ ì €ìž¥ë©ë‹ˆë‹¤.

## ì§„í–‰ í˜„í™© (Progress)

*   [x] ë¶„ì„ ëŒ€ìƒ ë ˆí¬ì§€í† ë¦¬ í™•ì •: React + Vite ê¸°ë°˜ portfolio
*   [x] ë¶„ì„ìš© ë ˆí¬ì§€í† ë¦¬ ìƒì„± ì™„ë£Œ: NLP-portfolio
*   [x] TypeScript ê¸°ë°˜ í”„ë¡œì íŠ¸ í™˜ê²½ êµ¬ì„± ì™„ë£Œ
*   [x] Github API + ë¡œì»¬ í”„ë¡œì íŠ¸ë¥¼ í†µí•œ ì „ì²˜ë¦¬ íŒŒì¼ ì¶”ì¶œ (Pipeline Steps 1~5)
*   [x] NLP ìž…ë ¥ìš© ë°ì´í„° ì •ì œ (Pipeline Step 6)
*   [x] NLP ê¸°ë°˜ ì§ˆì˜ì‘ë‹µ ì‹œìŠ¤í…œ êµ¬ì¶• (ìž„ë² ë”© ë° ê²€ìƒ‰) âœ…
*   [ ] ì‹œê°í™” ë° ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ

### ì§ˆì˜ì‘ë‹µ ì„±ê³µ ì˜ˆì‹œ

```bash
$ pnpm ask "ê¸°ìˆ ìŠ¤íƒ ì•Œë ¤ì¤˜"

ðŸ” Searching in collection: portfolio-commits
â“ Question: ê¸°ìˆ ìŠ¤íƒ ì•Œë ¤ì¤˜

... ê²€ìƒ‰ ì¤‘ (Retrieving contexts) ...
âœ… Chroma default embedding successful
   â†’ Found 5 relevant documents.

... ë‹µë³€ ìƒì„± ì¤‘ (Generating answer) ...
âœ… Claude answer generation successful

ðŸ¤– Answer:
---------------------------------------------------
ì£¼ì–´ì§„ ì •ë³´ì—ì„œëŠ” êµ¬ì²´ì ì¸ ê¸°ìˆ ìŠ¤íƒì˜ ì „ì²´ ëª©ë¡ì„ ì•Œ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

ë‹¤ë§Œ ì»¤ë°‹ ë‚´ìš©ì„ í†µí•´ í™•ì¸í•  ìˆ˜ ìžˆëŠ” ì¼ë¶€ ê¸°ìˆ ë“¤ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

**í”„ë¡ íŠ¸ì—”ë“œ ê´€ë ¨:**
- **React** (TypeScript ì‚¬ìš©)
- **TypeScript** - `.tsx`, `.ts` íŒŒì¼ í™•ìž¥ìžë¡œ í™•ì¸
- **React i18n** - ë‹¤êµ­ì–´ ì§€ì›
- **Motion/Framer Motion** - ì• ë‹ˆë©”ì´ì…˜ ë¼ì´ë¸ŒëŸ¬ë¦¬

**ë°±ì—”ë“œ/ì¸í”„ë¼:**
- **Supabase** - ë°ì´í„°ë² ì´ìŠ¤
- **Vercel** - ì„œë²„ë¦¬ìŠ¤ í™˜ê²½
- **GitHub Actions** - CI/CD íŒŒì´í”„ë¼ì¸
---------------------------------------------------
```

## í–¥í›„ í™•ìž¥ ê°€ëŠ¥ì„± (Future Plans)

í˜„ìž¬ëŠ” í”„ë¡ íŠ¸ì—”ë“œ ë ˆí¬ì§€í† ë¦¬ì— í•œì •í•˜ì§€ë§Œ, ì¶”í›„ ë‹¤ìŒ ë°ì´í„°ê¹Œì§€ ì¶”ê°€í•´ í”„ë¡œì íŠ¸ ì§€ì‹ ë² ì´ìŠ¤ë¥¼ ê°•í™”í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

*   ë°±ì—”ë“œ ì†ŒìŠ¤
*   DB ìŠ¤í‚¤ë§ˆ
*   REST API/GraphQL ëª…ì„¸
*   ë””ìžì¸/ê¸°íš ë¬¸ì„œ
*   Jira/Notion ì´ìŠˆ ê¸°ë¡
*   íšŒì˜ë¡, íšŒê³ ë¡, ì—…ë¬´ ë¡œê·¸
*   ê¸°ëŠ¥ ë°°í¬ ì´ë ¥

## ì´ìŠˆ ê´€ë¦¬ (Issue Management)

í”„ë¡œì íŠ¸ ì§„í–‰ ì¤‘ ë°œìƒí•œ ì´ìŠˆì™€ í•´ê²° ë°©ë²•ì„ ê¸°ë¡í•©ë‹ˆë‹¤.

### 1. `chroma` ëª…ë ¹ì–´ë¥¼ ì°¾ì§€ ëª»í•˜ëŠ” ë¬¸ì œ

**ì¦ìƒ**
```bash
$ chroma run --path ./chroma_data
zsh: command not found: chroma
```

**ì›ì¸**
- ChromaDBê°€ Python ê°€ìƒí™˜ê²½(`.chroma_venv`)ì— ì„¤ì¹˜ë˜ì–´ ìžˆìœ¼ë‚˜, ê°€ìƒí™˜ê²½ì„ í™œì„±í™”í•˜ì§€ ì•Šê³  ì§ì ‘ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•¨
- ì‹œìŠ¤í…œ PATHì— ê°€ìƒí™˜ê²½ì˜ `bin` ë””ë ‰í† ë¦¬ê°€ í¬í•¨ë˜ì§€ ì•ŠìŒ

**í•´ê²° ë°©ë²•**
```bash
# ë°©ë²• 1: ì œê³µëœ ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš© (ê¶Œìž¥)
pnpm run chroma:start

# ë°©ë²• 2: ê°€ìƒí™˜ê²½ ì§ì ‘ í™œì„±í™”
source .chroma_venv/bin/activate
chroma run --path ./chroma_data

# ë°©ë²• 3: ì „ì²´ ê²½ë¡œë¡œ ì‹¤í–‰
.chroma_venv/bin/chroma run --path ./chroma_data
```

---

### 2. ChromaDB Telemetry ì—ëŸ¬ (PostHog ë²„ì „ í˜¸í™˜ì„±)

**ì¦ìƒ**
```
ERROR: Failed to send telemetry event ServerStartEvent: capture() takes 1 positional argument but 3 were given
```

**ì›ì¸**
- ChromaDBê°€ ì‚¬ìš©í•˜ëŠ” PostHog ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ë²„ì „ í˜¸í™˜ì„± ë¬¸ì œ
- PostHog 7.x ë²„ì „ì—ì„œ `capture()` í•¨ìˆ˜ì˜ APIê°€ ë³€ê²½ë˜ì–´ ChromaDBì™€ í˜¸í™˜ë˜ì§€ ì•ŠìŒ

**í•´ê²° ë°©ë²•**
PostHogë¥¼ í˜¸í™˜ë˜ëŠ” 3.x ë²„ì „ìœ¼ë¡œ ë‹¤ìš´ê·¸ë ˆì´ë“œ:
```bash
source .chroma_venv/bin/activate
pip install "posthog>=3.0.0,<4.0.0"
```

**í™•ì¸**
```bash
# ë²„ì „ í™•ì¸
pip show posthog
# Version: 3.25.0 (ë˜ëŠ” 3.x.x)

# ì„œë²„ ìž¬ì‹œìž‘ í›„ ì—ëŸ¬ ë©”ì‹œì§€ê°€ ì‚¬ë¼ì§€ëŠ”ì§€ í™•ì¸
pnpm run chroma:start
```

---

### 3. ChromaDB í´ë¼ì´ì–¸íŠ¸-ì„œë²„ ë²„ì „ ë¶ˆì¼ì¹˜ (`KeyError('_type')`)

**ì¦ìƒ**
```
âŒ searchVectors failed: ChromaServerError: KeyError('_type')
    at chromaFetch (...)
    at async ChromaClient.getCollection (...)
```

**ì›ì¸**
- Node.js chromadb í´ë¼ì´ì–¸íŠ¸(3.x)ì™€ Python ChromaDB ì„œë²„(0.5.x) ê°„ì˜ **API ë²„ì „ ë¶ˆì¼ì¹˜**
- chromadb í´ë¼ì´ì–¸íŠ¸ 3.xëŠ” ì„œë²„ 1.x ì´ìƒê³¼ í˜¸í™˜ë˜ë„ë¡ ì„¤ê³„ë¨
- ì„œë²„ 0.5.xì˜ API ì‘ë‹µ í˜•ì‹ì´ í´ë¼ì´ì–¸íŠ¸ê°€ ê¸°ëŒ€í•˜ëŠ” í˜•ì‹ê³¼ ë‹¤ë¦„

| êµ¬ë¶„ | ë¬¸ì œ ë²„ì „ | í˜¸í™˜ ë²„ì „ |
|------|-----------|-----------|
| Node.js chromadb í´ë¼ì´ì–¸íŠ¸ | 3.1.6 | 3.1.6 (ë³€ê²½ ë¶ˆí•„ìš”) |
| Python ChromaDB ì„œë²„ | 0.5.23 âŒ | **1.0.0 ì´ìƒ** âœ… |

**í•´ê²° ë°©ë²•**
Python ChromaDB ì„œë²„ë¥¼ 1.x ë²„ì „ìœ¼ë¡œ ì—…ê·¸ë ˆì´ë“œ:
```bash
source .chroma_venv/bin/activate
pip install "chromadb>=1.0.0" "posthog>=3.0.0,<4.0.0"
```

**í™•ì¸**
```bash
# ë²„ì „ í™•ì¸
pip show chromadb
# Version: 1.3.7 (ë˜ëŠ” 1.x.x)

# ì„œë²„ ìž¬ì‹œìž‘
pnpm run chroma:start

# ì§ˆì˜ì‘ë‹µ í…ŒìŠ¤íŠ¸
pnpm ask "í…ŒìŠ¤íŠ¸ ì§ˆë¬¸"
# KeyError ì—†ì´ ì •ìƒ ë™ìž‘í•˜ë©´ í•´ê²°ë¨
```

**ì°¸ê³ **: `setup_chroma.sh` ìŠ¤í¬ë¦½íŠ¸ê°€ ì´ë¯¸ í˜¸í™˜ë˜ëŠ” ë²„ì „ì„ ì„¤ì¹˜í•˜ë„ë¡ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤. ìƒˆë¡œ ì„¤ì •í•˜ëŠ” ê²½ìš° `pnpm run chroma:setup`ì„ ì‹¤í–‰í•˜ë©´ ë©ë‹ˆë‹¤.

---

### 4. ìž„ë² ë”© ì°¨ì› ë¶ˆì¼ì¹˜ë¡œ ê²€ìƒ‰ ê²°ê³¼ 0ê±´

**ì¦ìƒ**
```
âœ… Chroma default embedding successful
   â†’ Found 0 relevant documents.
```

**ì›ì¸**
- ê¸°ì¡´ ë°ì´í„°ê°€ OpenAI ìž„ë² ë”©(1536ì°¨ì›)ìœ¼ë¡œ ì €ìž¥ë¨
- í˜„ìž¬ Chroma ê¸°ë³¸ ìž„ë² ë”©(384ì°¨ì›)ì„ ì‚¬ìš© ì¤‘
- ìž„ë² ë”© ì°¨ì›ì´ ë‹¤ë¥´ë©´ ë²¡í„° ê²€ìƒ‰ì´ ì •ìƒ ë™ìž‘í•˜ì§€ ì•ŠìŒ

**í•´ê²° ë°©ë²•**
`reindex` ëª…ë ¹ì–´ë¡œ ê¸°ì¡´ ë°ì´í„°ë¥¼ í˜„ìž¬ ìž„ë² ë”© ë°©ì‹ìœ¼ë¡œ ìž¬ì €ìž¥:
```bash
pnpm run reindex
```

ì´ ëª…ë ¹ì€:
1. ê¸°ì¡´ ë²¡í„° ì»¬ë ‰ì…˜ ì‚­ì œ
2. `refined_data.json`ì—ì„œ ë°ì´í„° ë¡œë“œ (GitHub API ìž¬í˜¸ì¶œ ì—†ìŒ)
3. í˜„ìž¬ ì„¤ì •ëœ ìž„ë² ë”© ë°©ì‹ìœ¼ë¡œ ìƒˆ ë²¡í„° ìƒì„±
4. ChromaDBì— ì €ìž¥

**í™•ì¸**
```bash
# ìž¬ì¸ë±ì‹± í›„ ì§ˆì˜ì‘ë‹µ í…ŒìŠ¤íŠ¸
pnpm ask "ê¸°ìˆ ìŠ¤íƒ ì•Œë ¤ì¤˜"
# â†’ Found 5 relevant documents. (0ì´ ì•„ë‹Œ ê²°ê³¼)
```

---

## ë¹„ê³  (Notes)
- .env íŒŒì¼ì€ gitignoreì— ì¶”ê°€í•˜ëŠ” ê²ƒì´ ê¸°ë³¸ì´ì§€ë§Œ, PoC í”„ë¡œì íŠ¸ì¸ ê²½ìš° íŽ¸ì˜ë¥¼ ìœ„í•´ ê³ ë ¤ë  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. (í˜„ìž¬ í”„ë¡œì íŠ¸ ì„¤ì • í™•ì¸ í•„ìš”)
- GitHub API í˜¸ì¶œ ì‹œ Rate Limitì— ìœ ì˜í•´ì•¼ í•©ë‹ˆë‹¤.

